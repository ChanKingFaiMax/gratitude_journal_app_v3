# 开悟日志 Web端 产品需求文档 (PRD)

**版本**: 1.0  
**日期**: 2026年1月3日  
**作者**: Manus AI

---

## 1. 产品概述

### 1.1 产品定位

开悟日志 Web端是一个桌面浏览器版本的感恩日记应用，旨在为用户提供一个安静、专注的写作环境。通过四位智者（耶稣、老子、释迦牟尼、柏拉图）的启示，帮助用户深化感恩体验，培养积极心态。

### 1.2 目标用户

| 用户类型 | 使用场景 | 核心需求 |
|---------|---------|---------|
| 办公室白领 | 工作间隙、午休时间 | 快速记录感恩，缓解压力 |
| 远程工作者 | 居家办公时 | 培养感恩习惯，保持积极心态 |
| 学生群体 | 学习之余 | 反思成长，记录美好 |
| 心理健康关注者 | 日常练习 | 通过写作疗愈，获得智慧启发 |

### 1.3 核心价值主张

Web端专注于**写作体验**，提供比移动端更大的写作空间和更舒适的阅读体验。智者启示在大屏幕上可以完整展示，用户可以边写边获得灵感。

---

## 2. 核心功能

### 2.1 功能优先级矩阵

| 功能 | 优先级 | 说明 |
|-----|-------|------|
| 每日感恩写作 | P0 | 核心功能，必须实现 |
| 智者启示 | P0 | 核心差异化功能 |
| 历史日记查看 | P1 | 回顾功能 |
| 题目卡片选择 | P1 | 引导写作 |
| 数据本地存储 | P1 | 隐私保护 |
| 深色/浅色模式 | P2 | 用户体验 |
| 中英文切换 | P2 | 国际化 |
| 数据导出 | P3 | 备份功能 |

### 2.2 功能详细说明

#### 2.2.1 每日感恩写作（P0）

用户可以选择题目或自由写作，记录当天的感恩内容。写作过程中可以随时获取智者启示。

**核心流程**：
1. 用户选择题目或点击"自由笔记"
2. 进入写作界面，开始书写
3. 点击"获取灵感"按钮，智者启示面板展开
4. 四位智者根据用户内容给出个性化引导
5. 用户继续写作或完成保存

#### 2.2.2 智者启示（P0）

四位智者根据用户的写作内容，提供不同视角的引导和启发。

| 智者 | 风格特点 | 核心理念 |
|-----|---------|---------|
| 耶稣 ✝️ | 慈爱的服务者，比喻大师 | 无条件的爱，以"孩子"开头，用种子、光、涟漪等比喻 |
| 老子 ☯️ | 自然诗人 | 用水、风、空谷等自然意象，道家辩证法，在平凡中发现美好 |
| 释迦牟尼 🙏 | 觉察者，禅宗直指 | 觉察而不评判，活在当下，平常心是道 |
| 柏拉图 🏛️ | 哲学思辨者 | 追问本质，探索真理，苏格拉底式提问 |

#### 2.2.3 历史日记查看（P1）

用户可以按日期查看过去的日记，支持日历视图和列表视图。

#### 2.2.4 题目卡片选择（P1）

每天提供5个感恩题目，用户可以选择感兴趣的题目开始写作。

---

## 3. 技术方案

### 3.1 技术栈选择

| 层级 | 技术选型 | 理由 |
|-----|---------|------|
| 前端框架 | React + TypeScript | 与移动端共享类型定义 |
| 样式方案 | Tailwind CSS | 快速开发，响应式设计 |
| 状态管理 | React Context + localStorage | 简单可靠，数据本地化 |
| API调用 | tRPC | 与现有后端无缝对接 |
| 构建工具 | Vite | 快速构建，开发体验好 |

### 3.2 数据存储策略

Web端默认使用**localStorage**存储数据，保护用户隐私。如果用户登录，可选择同步到云端。

```
localStorage 结构:
├── gratitude_entries[]     # 日记条目
├── settings                # 用户设置（语言、主题）
└── last_sync_time          # 最后同步时间
```

### 3.3 API复用

Web端复用移动端的tRPC API，主要使用：
- `ai.generateTopics` - 生成每日题目
- `ai.generatePrompts` - 生成智者启示
- `ai.generateMastersSummary` - 生成智者总结

---

## 4. 页面结构

### 4.1 页面清单

| 页面 | 路由 | 说明 |
|-----|------|------|
| 首页 | `/` | 今日题目选择、写作入口 |
| 写作页 | `/write` | 核心写作界面 |
| 历史页 | `/history` | 日记历史列表 |
| 日记详情 | `/entry/:id` | 查看单篇日记 |
| 设置页 | `/settings` | 语言、主题设置 |

### 4.2 响应式设计

| 断点 | 宽度 | 布局调整 |
|-----|------|---------|
| 桌面 | ≥1024px | 双栏布局，智者启示在右侧 |
| 平板 | 768-1023px | 单栏布局，智者启示可折叠 |
| 移动 | <768px | 引导用户使用移动App |

---

## 5. 用户体验设计原则

### 5.1 设计理念

**"安静、专注、有深度"**

Web端应该像一本精美的笔记本，让用户沉浸在写作中。界面简洁，减少干扰，让智者的声音自然地融入写作过程。

### 5.2 视觉风格

| 元素 | 浅色模式 | 深色模式 |
|-----|---------|---------|
| 背景色 | #FFF8F0（温暖米白） | #1A1A1A（深灰） |
| 主色调 | #F97316（温暖橙色） | #F97316（保持一致） |
| 文字色 | #333333 | #E0E0E0 |
| 卡片色 | #FFFFFF | #2A2A2A |

### 5.3 交互原则

1. **即时反馈** - 所有操作都有视觉反馈
2. **渐进展示** - 智者启示逐条展示，不一次性压倒用户
3. **自动保存** - 写作内容实时保存，防止丢失
4. **键盘友好** - 支持快捷键操作

---

## 6. 成功指标

| 指标 | 目标值 | 衡量方式 |
|-----|-------|---------|
| 日活用户 | 1000+ | 每日独立访问 |
| 平均写作时长 | >5分钟 | 单次会话时长 |
| 智者启示使用率 | >60% | 点击灵感按钮的用户比例 |
| 次日留存率 | >30% | 第二天回访的用户比例 |

---

## 7. 开发计划

### 7.1 里程碑

| 阶段 | 时间 | 交付物 |
|-----|------|--------|
| MVP | 第1周 | 首页 + 写作页 + 智者启示 |
| V1.0 | 第2周 | 历史页 + 设置页 + 本地存储 |
| V1.1 | 第3周 | 深色模式 + 中英文切换 |
| V1.2 | 第4周 | 数据导出 + 性能优化 |

---

## 8. 风险与应对

| 风险 | 影响 | 应对措施 |
|-----|------|---------|
| AI API响应慢 | 用户体验差 | 添加加载动画，优化fallback内容 |
| 数据丢失 | 用户流失 | 自动保存 + 定期提示导出 |
| 浏览器兼容性 | 部分用户无法使用 | 测试主流浏览器，提供降级方案 |

---

*文档结束*
